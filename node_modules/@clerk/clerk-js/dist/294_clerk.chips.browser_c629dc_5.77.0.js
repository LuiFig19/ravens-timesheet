"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["294"],{2264:function(e,t,r){r.r(t),r.d(t,{PaymentAttemptPage:()=>b,PaymentAttemptsList:()=>d});var o=r(9109),a=r(6600),i=r(9082),n=r(5913),l=r(1576),c=r(4204),s=r(4676);let d=()=>{let{data:e,isLoading:t,count:r}=(0,l.usePaymentAttempts)(),i=(0,l.useSubscriberTypeLocalizationRoot)();return(0,o.tZ)(a.wQ,{page:1,onPageChange:e=>{},itemCount:r,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:(0,c.localizationKeys)(`${i}.billingPage.paymentHistorySection.empty`),headers:[(0,c.localizationKeys)(`${i}.billingPage.paymentHistorySection.tableHeader__date`),(0,c.localizationKeys)(`${i}.billingPage.paymentHistorySection.tableHeader__amount`),(0,c.localizationKeys)(`${i}.billingPage.paymentHistorySection.tableHeader__status`)],rows:e.map(e=>(0,o.tZ)(u,{paymentAttempt:e},e.id))})},u=({paymentAttempt:e})=>{let{id:t,amount:r,failedAt:l,paidAt:d,updatedAt:u,status:p}=e,{navigate:m}=(0,s.useRouter)();return(0,o.BX)(a.Uk,{onClick:()=>{m(`payment-attempt/${t}`)},children:[(0,o.BX)(c.Td,{sx:{cursor:"pointer"},children:[(0,o.tZ)(c.Text,{variant:"subtitle",children:(0,i.p)(d||l||u,"long")}),(0,o.tZ)(c.Text,{colorScheme:"secondary",variant:"caption",truncate:!0,sx:e=>({marginTop:e.space.$0x5}),children:(0,n.L)(t)})]}),(0,o.tZ)(c.Td,{sx:{cursor:"pointer"},children:(0,o.BX)(c.Text,{children:[r.currencySymbol,r.amountFormatted]})}),(0,o.tZ)(c.Td,{children:(0,o.tZ)(c.Badge,{colorScheme:"paid"===p?"success":"failed"===p?"danger":"primary",sx:{textTransform:"capitalize"},children:p})})]})};var p=r(2654),m=r(8e3),y=r(6005),h=r(2464),g=r(4174);let b=()=>{let{params:e,navigate:t}=(0,s.useRouter)(),{isLoading:r}=(0,l.useStatements)(),{getPaymentAttemptById:a}=(0,l.usePaymentAttemptsContext)(),d=(0,y.xr)(),u=e.paymentAttemptId?a(e.paymentAttemptId):null,h=u?.subscriptionItem;return r?(0,o.tZ)(c.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,o.tZ)(c.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:c.descriptors.spinner})}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(p.h.Root,{sx:e=>({borderBlockEndWidth:e.borderWidths.$normal,borderBlockEndStyle:e.borderStyles.$solid,borderBlockEndColor:e.colors.$borderAlpha100,marginBlockEnd:e.space.$4,paddingBlockEnd:e.space.$4}),children:(0,o.tZ)(p.h.BackLink,{onClick:()=>void t("../../",{searchParams:new URLSearchParams("tab=payments")}),children:(0,o.tZ)(p.h.Title,{localizationKey:(0,c.localizationKeys)(`${d}.billingPage.start.headerTitle__payments`),textVariant:"h2"})})}),u?(0,o.BX)(c.Box,{elementDescriptor:c.descriptors.paymentAttemptRoot,as:"article",sx:e=>({borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$borderAlpha100,borderRadius:e.radii.$lg,overflow:"clip"}),children:[(0,o.BX)(c.Box,{elementDescriptor:c.descriptors.paymentAttemptHeader,as:"header",sx:e=>({padding:e.space.$4,background:e.colors.$neutralAlpha25,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),children:[(0,o.BX)(c.Span,{elementDescriptor:c.descriptors.paymentAttemptHeaderTitleContainer,children:[(0,o.tZ)(c.Heading,{elementDescriptor:c.descriptors.paymentAttemptHeaderTitle,textVariant:"h2",localizationKey:(0,i.p)(u.paidAt||u.failedAt||u.updatedAt,"long")}),(0,o.BX)(c.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$0x25,color:e.colors.$colorMutedForeground}),children:[(0,o.tZ)(S,{copyLabel:"Copy payment attempt ID",text:u.id}),(0,o.tZ)(c.Text,{colorScheme:"secondary",variant:"subtitle",children:(0,n.L)(u.id)})]})]}),(0,o.tZ)(c.Badge,{elementDescriptor:c.descriptors.paymentAttemptHeaderBadge,colorScheme:"paid"===u.status?"success":"failed"===u.status?"danger":"primary",sx:{textTransform:"capitalize"},children:u.status})]}),(0,o.tZ)(c.Box,{elementDescriptor:c.descriptors.paymentAttemptBody,sx:e=>({padding:e.space.$4}),children:h&&(0,o.BX)(m.a.Root,{children:[(0,o.BX)(m.a.Group,{children:[(0,o.tZ)(m.a.Title,{title:h.plan.name}),(0,o.tZ)(m.a.Description,{prefix:"annual"===h.planPeriod?"x12":void 0,text:`${h.plan.currencySymbol}${"month"===h.planPeriod?h.plan.amountFormatted:h.plan.annualMonthlyAmountFormatted}`})]}),(0,o.BX)(m.a.Group,{borderTop:!0,variant:"tertiary",children:[(0,o.tZ)(m.a.Title,{title:(0,c.localizationKeys)("commerce.subtotal")}),(0,o.tZ)(m.a.Description,{text:`${h.amount?.currencySymbol}${h.amount?.amountFormatted}`})]}),h.credit&&h.credit.amount.amount>0&&(0,o.BX)(m.a.Group,{variant:"tertiary",children:[(0,o.tZ)(m.a.Title,{title:(0,c.localizationKeys)("commerce.credit")}),(0,o.tZ)(m.a.Description,{text:`- ${h.credit.amount.currencySymbol}${h.credit.amount.amountFormatted}`})]})]})}),(0,o.BX)(c.Box,{elementDescriptor:c.descriptors.paymentAttemptFooter,as:"footer",sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$3,background:e.colors.$neutralAlpha25,borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$borderAlpha100,display:"flex",justifyContent:"space-between"}),children:[(0,o.tZ)(c.Text,{variant:"h3",localizationKey:(0,c.localizationKeys)("commerce.totalDue"),elementDescriptor:c.descriptors.paymentAttemptFooterLabel}),(0,o.BX)(c.Span,{elementDescriptor:c.descriptors.paymentAttemptFooterValueContainer,sx:e=>({display:"flex",alignItems:"center",gap:e.space.$2x5}),children:[(0,o.tZ)(c.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:c.descriptors.paymentAttemptFooterCurrency,sx:{textTransform:"uppercase"},children:u.amount.currency}),(0,o.BX)(c.Text,{variant:"h3",elementDescriptor:c.descriptors.paymentAttemptFooterValue,children:[u.amount.currencySymbol,u.amount.amountFormatted]})]})]})]}):(0,o.tZ)(c.Text,{localizationKey:(0,c.localizationKeys)(`${d}.billingPage.paymentHistorySection.notFound`),sx:{textAlign:"center"}})]})};function S({text:e,copyLabel:t="Copy"}){let{onCopy:r,hasCopied:a}=(0,h.VP)(e);return(0,o.tZ)(c.Button,{elementDescriptor:c.descriptors.paymentAttemptCopyButton,variant:"unstyled",onClick:r,sx:e=>({color:"inherit",width:e.sizes.$4,height:e.sizes.$4,padding:0,borderRadius:e.radii.$sm,"&:focus-visible":{outline:"2px solid",outlineColor:e.colors.$colorRing}}),focusRing:!1,"aria-label":a?"Copied":t,children:(0,o.tZ)(c.Icon,{size:"sm",icon:a?g.Jr:g.CK,"aria-hidden":!0})})}},2083:function(e,t,r){r.d(t,{OL:()=>v,fC:()=>$,hG:()=>f,ph:()=>Z});var o=r(9109),a=r(3799),i=r(9144),n=r(2418),l=r(2672),c=r(431),s=r(9460),d=r(8487),u=r(8849),p=r(8870),m=r(1576),y=r(4204);let[h,g]=(0,a.uH)("AddPaymentSourceRoot"),b=({children:e,checkout:t,...r})=>{let n=(0,m.useSubscriberTypeContext)(),l=(0,i.useRef)(null),{t:c}=(0,y.useLocalizations)(),[s,d]=(0,i.useState)(void 0),[p,g]=(0,i.useState)(void 0),[b,S]=(0,i.useState)(void 0),x=(e=>{let t=(0,y.useAppearance)().parsedInternalTheme;return(0,i.useMemo)(()=>{if(!e)return;let{colors:r,fontWeights:o,fontSizes:a,radii:i,space:n}=t;return{colorPrimary:(0,u.Aj)(e,r.$primary500,r.$colorBackground),colorBackground:(0,u.Aj)(e,r.$colorInput,r.$colorBackground),colorText:(0,u.Aj)(e,r.$colorForeground,r.$colorBackground),colorTextSecondary:(0,u.Aj)(e,r.$colorMutedForeground,r.$colorBackground),colorSuccess:(0,u.Aj)(e,r.$success500,r.$colorBackground),colorDanger:(0,u.Aj)(e,r.$danger500,r.$colorBackground),colorWarning:(0,u.Aj)(e,r.$warning500,r.$colorBackground),fontWeightNormal:(0,u.uj)(e,"font-weight",o.$normal.toString()),fontWeightMedium:(0,u.uj)(e,"font-weight",o.$medium.toString()),fontWeightBold:(0,u.uj)(e,"font-weight",o.$bold.toString()),fontSizeXl:(0,u.uj)(e,"font-size",a.$xl),fontSizeLg:(0,u.uj)(e,"font-size",a.$lg),fontSizeSm:(0,u.uj)(e,"font-size",a.$md),fontSizeXs:(0,u.uj)(e,"font-size",a.$sm),borderRadius:(0,u.uj)(e,"border-radius",i.$lg),spacingUnit:(0,u.uj)(e,"padding",n.$1)}},[t,e])})(l.current);return(0,o.BX)(h.Provider,{value:{value:{headerTitle:s,headerSubtitle:p,submitLabel:b,setHeaderTitle:d,setHeaderSubtitle:g,setSubmitLabel:S,checkout:t,...r}},children:[(0,o.tZ)("div",{ref:l,style:{display:"none"}}),(0,o.tZ)(a.pe,{checkout:t,for:n,stripeAppearance:x,paymentDescription:c((0,y.localizationKeys)(t?.planPeriod==="month"?"commerce.paymentSource.applePayDescription.monthly":"commerce.paymentSource.applePayDescription.annual")),children:e})]})},S=e=>{let{isProviderReady:t}=(0,a.Wh)();return t?null:e.children},x=e=>{let{isProviderReady:t}=(0,a.Wh)();return t?(0,o.tZ)(o.HY,{children:e.children}):null},$=e=>{let{children:t,...r}=e;return(0,o.BX)(b,{...r,children:[(0,o.tZ)(S,{children:(0,o.tZ)(y.Flex,{direction:"row",align:"center",justify:"center",sx:e=>({width:"100%",minHeight:e.sizes.$60}),children:(0,o.tZ)(y.Spinner,{size:"lg",colorScheme:"primary",elementDescriptor:y.descriptors.spinner})})}),(0,o.tZ)(x,{children:(0,o.tZ)(B,{children:t})})]})},z=(e,t)=>{(0,i.useRef)(()=>{t(e)}),(0,i.useEffect)(()=>{t(e)},[e,t])},Z=({text:e})=>{let{setHeaderTitle:t}=g();return z(e,t),null},f=({text:e})=>{let{setHeaderSubtitle:t}=g();return z(e,t),null},v=({text:e})=>{let{setSubmitLabel:t}=g();return z(e,t),null},B=({children:e})=>{let{headerTitle:t,headerSubtitle:r,submitLabel:i,checkout:u,onSuccess:h,cancelAction:b}=g(),S=(0,l.useCardState)(),x=(0,m.useSubscriberTypeLocalizationRoot)(),{isFormReady:$,submit:z,reset:Z}=(0,a.Wh)(),f=async e=>{e.preventDefault(),S.setLoading(),S.setError(void 0);let{data:t,error:r}=await z();if(!r)try{await h(t)}catch(e){(0,p.S3)(e,[],S.setError)}finally{S.setIdle(),Z()}};return(0,o.tZ)(d.Y,{headerTitle:t,headerSubtitle:r,children:(0,o.BX)(c.l.Root,{onSubmit:f,sx:e=>({display:"flex",flexDirection:"column",rowGap:e.space.$3}),children:[e,(0,o.tZ)(a.Y7,{}),(0,o.tZ)(n.Z.Alert,{children:S.error}),(0,o.tZ)(s.A,{isDisabled:!$,submitLabel:i??(0,y.localizationKeys)(`${x}.billingPage.paymentSourcesSection.formButtonPrimary__add`),onReset:b,hideReset:!b,sx:{flex:u?1:void 0}})]})})}},7106:function(e,t,r){r.d(t,{j:()=>n});var o=r(9109),a=r(4204),i=r(4174);let n=({paymentSource:e})=>(0,o.BX)(a.Flex,{sx:{overflow:"hidden"},gap:2,align:"baseline",elementDescriptor:a.descriptors.paymentSourceRow,children:[(0,o.tZ)(a.Icon,{icon:"card"===e.paymentMethod?i.aB:i.Nn,sx:{alignSelf:"center"},elementDescriptor:a.descriptors.paymentSourceRowIcon}),(0,o.tZ)(a.Text,{sx:e=>({color:e.colors.$colorForeground,textTransform:"capitalize"}),truncate:!0,elementDescriptor:a.descriptors.paymentSourceRowType,children:"card"===e.paymentMethod?e.cardType:e.paymentMethod}),(0,o.tZ)(a.Text,{sx:e=>({color:e.colors.$colorMutedForeground}),variant:"caption",truncate:!0,elementDescriptor:a.descriptors.paymentSourceRowValue,children:"card"===e.paymentMethod?`\u{22EF} ${e.last4}`:null}),e.isDefault&&(0,o.tZ)(a.Badge,{elementDescriptor:a.descriptors.paymentSourceRowBadge,elementId:a.descriptors.paymentSourceRowBadge.setId("default"),localizationKey:(0,a.localizationKeys)("badge__default")}),"expired"===e.status&&(0,o.tZ)(a.Badge,{elementDescriptor:a.descriptors.paymentSourceRowBadge,elementId:a.descriptors.paymentSourceRowBadge.setId("expired"),colorScheme:"danger",localizationKey:(0,a.localizationKeys)("badge__expired")})]})},6054:function(e,t,r){r.d(t,{Hw:()=>f});var o=r(2083),a=r(9109),i=r(3799),n=r(9144),l=r(2672),c=r(8104),s=r(9655),d=r(3009),u=r(8870),p=r(8969),m=r(2189),y=r(1576),h=r(4204),g=r(9805),b=r(4709),S=r(7106),x=r(8e3);let $=()=>{let{t:e}=(0,h.useLocalizations)();return(0,a.BX)(h.Box,{sx:e=>({background:e.colors.$neutralAlpha50,padding:e.space.$2x5,borderRadius:e.radii.$md,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$borderAlpha100,display:"flex",flexDirection:"column",rowGap:e.space.$2,position:"relative"}),children:[(0,a.tZ)(h.Box,{sx:e=>({position:"absolute",inset:0,background:`repeating-linear-gradient(-45deg,${e.colors.$warningAlpha100},${e.colors.$warningAlpha100} 6px,${e.colors.$warningAlpha150} 6px,${e.colors.$warningAlpha150} 12px)`,maskImage:"linear-gradient(transparent 20%, black)",pointerEvents:"none"})}),(0,a.BX)(h.Box,{sx:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},children:[(0,a.tZ)(h.Text,{variant:"caption",colorScheme:"body",localizationKey:(0,h.localizationKeys)("commerce.paymentSource.dev.testCardInfo")}),(0,a.tZ)(h.Text,{variant:"caption",sx:e=>({color:e.colors.$warning500,fontWeight:e.fontWeights.$semibold}),localizationKey:(0,h.localizationKeys)("commerce.paymentSource.dev.developmentMode")})]}),(0,a.BX)(x.a.Root,{children:[(0,a.BX)(x.a.Group,{variant:"tertiary",children:[(0,a.tZ)(x.a.Title,{title:(0,h.localizationKeys)("commerce.paymentSource.dev.cardNumber")}),(0,a.tZ)(x.a.Description,{text:"4242 4242 4242 4242"})]}),(0,a.BX)(x.a.Group,{variant:"tertiary",children:[(0,a.tZ)(x.a.Title,{title:(0,h.localizationKeys)("commerce.paymentSource.dev.expirationDate")}),(0,a.tZ)(x.a.Description,{text:"11/44"})]}),(0,a.BX)(x.a.Group,{variant:"tertiary",children:[(0,a.tZ)(x.a.Title,{title:(0,h.localizationKeys)("commerce.paymentSource.dev.cvcZip")}),(0,a.tZ)(x.a.Description,{text:e((0,h.localizationKeys)("commerce.paymentSource.dev.anyNumbers"))})]})]})]})},z=(0,l.withCardStateProvider)(({onSuccess:e})=>{let{close:t}=(0,b.XC)(),r=(0,i.cL)(),n=(0,y.useSubscriberTypeContext)(),l=(0,y.useSubscriberTypeLocalizationRoot)(),c=async o=>{let a="org"===n?r?.organization:r.user;return await a?.addPaymentSource(o),e(),t(),Promise.resolve()};return(0,a.BX)(o.fC,{onSuccess:c,cancelAction:t,children:[(0,a.tZ)(o.ph,{text:(0,h.localizationKeys)(`${l}.billingPage.paymentSourcesSection.add`)}),(0,a.tZ)(o.hG,{text:(0,h.localizationKeys)(`${l}.billingPage.paymentSourcesSection.addSubtitle`)}),(0,a.tZ)(m.P,{children:(0,a.tZ)($,{})})]})}),Z=({paymentSource:e,revalidate:t})=>{let{close:r}=(0,b.XC)(),o=(0,l.useCardState)(),c=(0,y.useSubscriberTypeContext)(),{organization:s}=(0,i.o8)(),d=(0,y.useSubscriberTypeLocalizationRoot)(),m=(0,n.useRef)(`${"card"===e.paymentMethod?e.cardType:e.paymentMethod} ${"card"===e.paymentMethod?`\u{22EF} ${e.last4}`:"-"}`);if(!m.current)return null;let g=async()=>{await e.remove({orgId:"org"===c?s?.id:void 0}).then(t).catch(e=>{(0,u.S3)(e,[],o.setError)})};return(0,a.tZ)(p.LE,{title:(0,h.localizationKeys)(`${d}.billingPage.paymentSourcesSection.removeResource.title`),messageLine1:(0,h.localizationKeys)(`${d}.billingPage.paymentSourcesSection.removeResource.messageLine1`,{identifier:m.current}),messageLine2:(0,h.localizationKeys)(`${d}.billingPage.paymentSourcesSection.removeResource.messageLine2`),successMessage:(0,h.localizationKeys)(`${d}.billingPage.paymentSourcesSection.removeResource.successMessage`,{paymentSource:m.current}),deleteResource:g,onSuccess:r,onReset:r})},f=(0,l.withCardStateProvider)(()=>{let e=(0,i.cL)(),t=(0,y.useSubscriberTypeContext)(),r=(0,y.useSubscriberTypeLocalizationRoot)(),o="org"===t?e?.organization:e.user,{data:l,isLoading:d,revalidate:u}=(0,y.usePaymentMethods)(),p=(0,n.useMemo)(()=>l.sort((e,t)=>e.isDefault&&!t.isDefault?-1:1),[l]);return o?(0,a.tZ)(s.zd.Root,{title:(0,h.localizationKeys)(`${r}.billingPage.paymentSourcesSection.title`),centered:!1,id:"paymentSources",sx:e=>({flex:1,borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:(0,a.tZ)(g.a.Root,{children:(0,a.tZ)(s.zd.ItemList,{id:"paymentSources",disableAnimation:!0,children:d?(0,a.tZ)(c.m,{}):(0,a.BX)(a.HY,{children:[p.map(e=>(0,a.BX)(n.Fragment,{children:[(0,a.BX)(s.zd.Item,{id:"paymentSources",children:[(0,a.tZ)(S.j,{paymentSource:e}),(0,a.tZ)(v,{paymentSource:e,revalidate:u})]}),(0,a.tZ)(g.a.Open,{value:`remove-${e.id}`,children:(0,a.tZ)(g.a.Card,{variant:"destructive",children:(0,a.tZ)(Z,{paymentSource:e,revalidate:u})})})]},e.id)),(0,a.tZ)(g.a.Trigger,{value:"add",children:(0,a.tZ)(s.zd.ArrowButton,{id:"paymentSources",localizationKey:(0,h.localizationKeys)(`${r}.billingPage.paymentSourcesSection.add`)})}),(0,a.tZ)(g.a.Open,{value:"add",children:(0,a.tZ)(g.a.Card,{children:(0,a.tZ)(z,{onSuccess:u})})})]})})})}):null}),v=({paymentSource:e,revalidate:t})=>{let{open:r}=(0,b.XC)(),o=(0,l.useCardState)(),{organization:n}=(0,i.o8)(),c=(0,y.useSubscriberTypeContext)(),s=(0,y.useSubscriberTypeLocalizationRoot)(),p=[{label:(0,h.localizationKeys)(`${s}.billingPage.paymentSourcesSection.actionLabel__remove`),isDestructive:!0,onClick:()=>r(`remove-${e.id}`),isDisabled:!e.isRemovable}];return e.isDefault||p.unshift({label:(0,h.localizationKeys)(`${s}.billingPage.paymentSourcesSection.actionLabel__default`),isDestructive:!1,onClick:()=>{e.makeDefault({orgId:"org"===c?n?.id:void 0}).then(t).catch(e=>{(0,u.S3)(e,[],o.setError)})},isDisabled:!1}),(0,a.tZ)(d.a,{actions:p})}},5746:function(e,t,r){r.d(t,{u:()=>l});var o=r(9109),a=r(4204);let i={active:"badge__activePlan",upcoming:"badge__upcomingPlan",past_due:"badge__pastDuePlan"},n={active:"secondary",upcoming:"primary",past_due:"warning"},l=({subscription:e,elementDescriptor:t})=>(0,o.tZ)(a.Badge,{elementDescriptor:t,colorScheme:n[e.status],localizationKey:(0,a.localizationKeys)(i[e.status])})},1800:function(e,t,r){r.d(t,{b:()=>p});var o=r(9109),a=r(9144),i=r(9655),n=r(8969),l=r(1576),c=r(4204),s=r(4174),d=r(4676),u=r(5746);function p({title:e,arrowButtonText:t,arrowButtonEmptyText:r}){let{captionForSubscription:p,openSubscriptionDetails:m}=(0,l.usePlansContext)(),y=(0,l.useSubscriberTypeLocalizationRoot)(),h=(0,l.useSubscriberTypeContext)(),{subscriptionItems:g}=(0,l.useSubscription)(),b=(0,n.N2)(e=>e({permission:"org:sys_billing:manage"})||"user"===h),{navigate:S}=(0,d.useRouter)(),{commerceSettings:x}=(0,l.useEnvironment)(),$=(0,a.useMemo)(()=>g.sort((e,t)=>"active"===e.status&&"active"!==t.status?-1:("active"===t.status&&e.status,1)),[g]);return(0,o.BX)(i.zd.Root,{id:"subscriptionsList",title:e,centered:!1,sx:e=>({borderTop:"none",paddingTop:e.space.$1}),children:[g.length>0&&(0,o.BX)(c.Table,{tableHeadVisuallyHidden:!0,children:[(0,o.tZ)(c.Thead,{children:(0,o.BX)(c.Tr,{children:[(0,o.tZ)(c.Th,{localizationKey:(0,c.localizationKeys)(`${y}.billingPage.subscriptionsListSection.tableHeader__plan`)}),(0,o.tZ)(c.Th,{localizationKey:(0,c.localizationKeys)(`${y}.billingPage.subscriptionsListSection.tableHeader__startDate`)}),(0,o.tZ)(c.Th,{localizationKey:(0,c.localizationKeys)(`${y}.billingPage.subscriptionsListSection.tableHeader__edit`)})]})}),(0,o.tZ)(c.Tbody,{children:$.map(e=>(0,o.BX)(c.Tr,{children:[(0,o.tZ)(c.Td,{children:(0,o.BX)(c.Col,{gap:1,children:[(0,o.BX)(c.Flex,{align:"center",gap:1,children:[(0,o.tZ)(c.Icon,{icon:s.ou,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})}),(0,o.tZ)(c.Text,{variant:"subtitle",sx:e=>({marginRight:e.sizes.$1}),children:e.plan.name}),$.length>1||e.canceledAtDate?(0,o.tZ)(u.u,{subscription:e}):null]}),(!e.plan.isDefault||"upcoming"===e.status)&&(0,o.tZ)(c.Text,{variant:"caption",colorScheme:"secondary",localizationKey:p(e)})]})}),(0,o.tZ)(c.Td,{sx:e=>({textAlign:"right"}),children:(0,o.BX)(c.Text,{variant:"subtitle",children:[e.plan.currencySymbol,"annual"===e.planPeriod?e.plan.annualAmountFormatted:e.plan.amountFormatted,(e.plan.amount>0||e.plan.annualAmount>0)&&(0,o.tZ)(c.Span,{sx:e=>({color:e.colors.$colorMutedForeground,textTransform:"lowercase",":before":{content:'"/"',marginInline:e.space.$1}}),localizationKey:"annual"===e.planPeriod?(0,c.localizationKeys)("commerce.year"):(0,c.localizationKeys)("commerce.month")})]})}),(0,o.tZ)(c.Td,{sx:e=>({textAlign:"right"}),children:(0,o.tZ)(c.Button,{"aria-label":"Manage subscription",onClick:e=>m(e),variant:"bordered",colorScheme:"secondary",isDisabled:!b,sx:e=>({width:e.sizes.$6,height:e.sizes.$6}),children:(0,o.tZ)(c.Icon,{icon:s.tc,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})})})})]},e.id))})]}),x.billing.user.hasPaidPlans&&"user"===h||x.billing.organization.hasPaidPlans&&"org"===h?(0,o.tZ)(i.zd.ArrowButton,{id:"subscriptionsList",textLocalizationKey:g.length>0?t:r,sx:[e=>({justifyContent:"start",height:e.sizes.$8})],leftIcon:g.length>0?s.Ic:s.v3,leftIconSx:e=>({width:e.sizes.$4,height:e.sizes.$4}),onClick:()=>void S("plans")}):null]})}}}]);